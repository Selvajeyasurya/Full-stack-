<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Web Application</title>

    <!-- Bootstrap  -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- jQuery  -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body class="bg-light">

<div class="container mt-5">
    <div class="card shadow">
        <div class="card-header bg-primary text-white text-center">
            <h4>Online Quiz Application</h4>
        </div>

        <div class="card-body">

            <!-- Quiz Area -->
            <div id="quiz-box">
                <h5 id="question"></h5>

                <div class="mt-3">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="option" value="0">
                        <label class="form-check-label" id="opt0"></label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="option" value="1">
                        <label class="form-check-label" id="opt1"></label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="option" value="2">
                        <label class="form-check-label" id="opt2"></label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="option" value="3">
                        <label class="form-check-label" id="opt3"></label>
                    </div>
                </div>

                <div class="mt-4 d-flex justify-content-between">
                    <button class="btn btn-secondary" id="prev">Previous</button>
                    <button class="btn btn-primary" id="next">Next</button>
                    <button class="btn btn-success d-none" id="submit">Submit</button>
                </div>
            </div>

            <!-- Result Area -->
            <div id="result-box" class="text-center d-none">
                <h3 class="text-success">Quiz Completed</h3>
                <h4 id="score"></h4>

                <button class="btn btn-info mt-3" id="showAnswers">Show Answers</button>
                <button class="btn btn-primary mt-3" onclick="location.reload()">Restart Quiz</button>
            </div>

            <!-- Answer Review -->
            <div id="answer-box" class="d-none mt-4"></div>

        </div>
    </div>
</div>

<script>
$(document).ready(function () {

    const quiz = [
        { q: "What does HTML stand for?",
          options: ["Hyper Text Markup Language", "High Text Machine Language", "Hyperlinks Text Mark Language", "None"],
          ans: 0 },

        { q: "Which language is used for styling web pages?",
          options: ["HTML", "jQuery", "CSS", "XML"],
          ans: 2 },

        { q: "Which is not a JavaScript framework?",
          options: ["Python Script", "jQuery", "NodeJS", "React"],
          ans: 0 },

        { q: "Which tag is used for JavaScript?",
          options: ["<js>", "<javascript>", "<script>", "<code>"],
          ans: 2 },

        { q: "Which company developed JavaScript?",
          options: ["Microsoft", "Google", "Netscape", "IBM"],
          ans: 2 },

        { q: "Bootstrap is mainly used for?",
          options: ["Database", "Styling", "Server", "Logic"],
          ans: 1 },

        { q: "Which symbol is used for ID selector in jQuery?",
          options: [".", "#", "*", "&"],
          ans: 1 },

        { q: "Which function is used to select elements in jQuery?",
          options: ["select()", "get()", "$()", "query()"],
          ans: 2 },

        { q: "Which event occurs on button click?",
          options: ["hover", "dblclick", "click", "change"],
          ans: 2 },

        { q: "jQuery is written in?",
          options: ["Java", "Python", "JavaScript", "C++"],
          ans: 2 }
    ];

    let index = 0;
    let answers = new Array(quiz.length).fill(null);

    function loadQuestion() {
        $("#question").text((index + 1) + ". " + quiz[index].q);

        quiz[index].options.forEach((opt, i) => {
            $("#opt" + i).text(opt);
        });

        $("input[name='option']").prop("checked", false);

        if (answers[index] !== null) {
            $("input[name='option'][value='" + answers[index] + "']").prop("checked", true);
        }

        $("#prev").prop("disabled", index === 0);

        if (index === quiz.length - 1) {
            $("#next").addClass("d-none");
            $("#submit").removeClass("d-none");
        } else {
            $("#next").removeClass("d-none");
            $("#submit").addClass("d-none");
        }
    }

    loadQuestion();

    $("#next").click(function () {
        let selected = $("input[name='option']:checked").val();
        if (selected === undefined) {
            alert("Please select an answer");
            return;
        }
        answers[index] = parseInt(selected);
        index++;
        loadQuestion();
    });

    $("#prev").click(function () {
        index--;
        loadQuestion();
    });

    $("#submit").click(function () {
        let selected = $("input[name='option']:checked").val();
        if (selected === undefined) {
            alert("Please select an answer");
            return;
        }
        answers[index] = parseInt(selected);

        let score = 0;
        quiz.forEach((q, i) => {
            if (q.ans === answers[i]) score++;
        });

        $("#quiz-box").addClass("d-none");
        $("#result-box").removeClass("d-none");
        $("#score").text("Your Score: " + score + " / 10");
    });

    $("#showAnswers").click(function () {
        $("#answer-box").removeClass("d-none");
        $("#answer-box").html("<h4 class='text-center'>Answer Review</h4>");

        quiz.forEach((q, i) => {
            let userAns = answers[i] !== null ? q.options[answers[i]] : "Not Answered";
            let correctAns = q.options[q.ans];
            let status = answers[i] === q.ans ? "✅ Correct" : "❌ Wrong";

            $("#answer-box").append(`
                <div class="card mt-2">
                    <div class="card-body">
                        <strong>Q${i + 1}:</strong> ${q.q}<br>
                        <strong>Your Answer:</strong> ${userAns}<br>
                        <strong>Correct Answer:</strong> ${correctAns}<br>
                        <strong>Status:</strong> ${status}
                    </div>
                </div>
            `);
        });
    });

});
</script>

</body>
</html>
